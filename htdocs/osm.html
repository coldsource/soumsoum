<!DOCTYPE HTML>
<title>OpenLayers Simplest Example</title>
<div id="demoMap" style="width:500px; height:500px"></div>
<script src="http://www.openlayers.org/api/OpenLayers.js"></script>
<script>
	let lon = -4.506347834823013;
	let lat = 48.308898557355235;
	
	map = new OpenLayers.Map("demoMap");
	
	map.addLayer(new OpenLayers.Layer.OSM('Water', [
		"https://stamen-tiles-a.a.ssl.fastly.net/watercolor/${z}/${x}/${y}.jpg",
		"https://stamen-tiles-b.a.ssl.fastly.net/watercolor/${z}/${x}/${y}.jpg",
		"https://stamen-tiles-c.a.ssl.fastly.net/watercolor/${z}/${x}/${y}.jpg",
		"https://stamen-tiles-d.a.ssl.fastly.net/watercolor/${z}/${x}/${y}.jpg"
	]));
	
	map.setCenter(new OpenLayers.LonLat(lon, lat)
		.transform(
		new OpenLayers.Projection("EPSG:4326"), // transformation de WGS 1984
		new OpenLayers.Projection("EPSG:900913") // en projection Mercator sphérique
		), 15 // Zoom level
	);
	
	let markers = new OpenLayers.Layer.Markers("Markers");
	map.addLayer(markers);

	let lonLat = new OpenLayers.LonLat(lon, lat)
		.transform(
		new OpenLayers.Projection("EPSG:4326"), // transformation de WGS 1984
		new OpenLayers.Projection("EPSG:900913") // en projection Mercator sphérique
	);
	
	let marker = new OpenLayers.Marker(lonLat);
	markers.addMarker(marker);
	
	/*setInterval(() => {
		lon+=0.0001;
		lat+=0.0001;
		
		let lonLatNew = new OpenLayers.LonLat(lon, lat)
			.transform(
			new OpenLayers.Projection("EPSG:4326"), // transformation de WGS 1984
			new OpenLayers.Projection("EPSG:900913") // en projection Mercator sphérique
		);
		
		var newPx = map.getLayerPxFromViewPortPx(map.getPixelFromLonLat(lonLatNew));
		
		map.setCenter(lonLatNew, 15);
		
		marker.moveTo(newPx);
	}, 1000);*/
</script>
 

 
 
 
